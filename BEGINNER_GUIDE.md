# 🎮 超详细新手指南（Windows 系统）

## 📋 目录
- [第一部分：在自己电脑上玩](#第一部分在自己电脑上玩)
- [第二部分：局域网联机（和朋友一起玩）](#第二部分局域网联机和朋友一起玩)
- [第三部分：发布到网页（让任何人都能玩）](#第三部分发布到网页让任何人都能玩)

---

## 第一部分：在自己电脑上玩

### 步骤 1：安装 Node.js

Node.js 是运行这个游戏必需的软件。

1. **下载 Node.js**
   - 打开浏览器，访问：https://nodejs.org/
   - 点击绿色的 "LTS" 版本下载按钮（推荐大多数用户使用）
   - 下载完成后会得到一个 `.msi` 文件

2. **安装 Node.js**
   - 双击下载的 `.msi` 文件
   - 一路点击 "Next"（下一步）
   - 看到 "Install" 就点击它
   - 等待安装完成
   - 点击 "Finish" 完成安装

3. **验证安装是否成功**
   - 按键盘上的 `Win + R` 键（Win 键就是有 Windows 图标的那个键）
   - 输入 `cmd` 然后按回车
   - 会打开一个黑色窗口（命令提示符）
   - 输入 `node -v` 然后按回车
   - 如果显示类似 `v20.11.0` 的版本号，说明安装成功了！

### 步骤 2：下载游戏代码

如果你已经有代码在电脑上了，跳过这一步。

1. **克隆代码**（如果代码在 GitHub 上）
   - 打开命令提示符（按 `Win + R`，输入 `cmd`）
   - 输入以下命令（把 `你的GitHub用户名` 替换成实际的）：
   ```bash
   cd Desktop
   git clone https://github.com/你的GitHub用户名/cabin_game.git
   cd cabin_game
   ```

2. **或者直接解压**（如果你下载了压缩包）
   - 右键点击压缩包，选择"解压到当前文件夹"
   - 打开解压后的文件夹

### 步骤 3：安装游戏依赖

依赖就是游戏需要的其他软件包。

1. **打开命令提示符**
   - 在文件资源管理器中，打开游戏文件夹（cabin_game）
   - 在文件夹空白处，按住 `Shift` 键，然后右键点击
   - 选择 "在此处打开 PowerShell 窗口" 或 "在此处打开命令窗口"

2. **安装依赖**
   - 在打开的窗口中输入：
   ```bash
   npm install
   ```
   - 按回车，等待安装完成（可能需要几分钟）
   - 看到类似 "added 179 packages" 字样就说明成功了

### 步骤 4：启动游戏

1. **启动游戏**
   - 在同一个窗口中输入：
   ```bash
   npm run dev
   ```
   - 按回车

2. **打开游戏**
   - 你会看到类似这样的信息：
   ```
   Local:   http://localhost:5173/
   ```
   - 打开浏览器（Chrome、Edge 等）
   - 在地址栏输入：`http://localhost:5173`
   - 游戏就启动了！🎉

3. **开始玩**
   - 选择难度（建议从"初入江湖"开始）
   - 使用鼠标和键盘操作（看游戏界面的提示）

4. **关闭游戏**
   - 关闭浏览器标签页
   - 在命令提示符窗口按 `Ctrl + C`
   - 输入 `Y` 然后按回车

---

## 第二部分：局域网联机（和朋友一起玩）

### 什么是局域网？

局域网就是你和朋友连接到同一个 WiFi 时形成的网络。比如：
- 在同一个家里
- 在同一个宿舍
- 连接到同一个路由器

### 步骤 1：一人当服务器（房主）

**房主需要做的事情：**

1. **启动服务器**
   - 打开命令提示符（在游戏文件夹）
   - 输入：
   ```bash
   npm run server
   ```
   - 看到 "WebSocket 服务器运行在端口 3001" 就成功了

2. **获取自己的 IP 地址**
   - 再打开一个新的命令提示符窗口（不要关闭服务器那个）
   - 输入：
   ```bash
   ipconfig
   ```
   - 找到 "无线局域网适配器 WLAN" 或 "以太网适配器"
   - 看下面的 "IPv4 地址"，比如：`192.168.1.100`
   - **记下这个 IP 地址，要告诉朋友**

3. **启动游戏客户端**
   - 再打开一个新的命令提示符窗口
   - 输入：
   ```bash
   npm run dev
   ```
   - 在浏览器打开 `http://localhost:5173`

4. **创建房间**
   - 点击游戏主菜单的 "局域网对战"
   - 输入服务器地址：`http://192.168.1.100:3001`（用你自己的 IP）
   - 点击 "连接服务器"
   - 点击 "创建房间"
   - 会显示一个 6 位的房间 ID，比如：`ABC123`
   - **把这个房间 ID 告诉朋友**

### 步骤 2：朋友加入游戏

**朋友需要做的事情：**

1. **确保在同一 WiFi**
   - 连接到和房主相同的 WiFi

2. **启动游戏**
   - 朋友也需要在自己电脑上：
     - 安装 Node.js
     - 下载游戏代码
     - 运行 `npm install`
     - 运行 `npm run dev`
   - 在浏览器打开 `http://localhost:5173`

3. **加入房间**
   - 点击 "局域网对战"
   - 输入服务器地址：`http://192.168.1.100:3001`（房主告诉你的 IP）
   - 点击 "连接服务器"
   - 输入房间 ID（房主告诉你的 6 位代码）
   - 点击 "加入房间"

4. **开始对战**
   - 房主点击 "准备"
   - 游戏自动开始！

### 常见问题

**Q: 朋友连接不上我的服务器？**

A: 检查以下几点：
1. 你们是否连接到同一个 WiFi
2. 防火墙是否拦截了（看下面的解决方法）
3. IP 地址是否输入正确

**Q: 如何关闭防火墙拦截？**

Windows 防火墙设置：
1. 按 `Win + S`，搜索"防火墙"
2. 点击 "允许应用通过 Windows 防火墙"
3. 点击 "更改设置"
4. 找到 "Node.js" 或 "允许其他应用"
5. 勾选 "专用" 和 "公用"
6. 点击确定

---

## 第三部分：发布到网页（让任何人都能玩）

就像原作者的版本：https://cabin-w.github.io/GAMEONE/

### 什么是 GitHub Pages？

GitHub Pages 可以把你的游戏免费发布到网上，任何人都能通过网址访问。

### 步骤 1：准备 GitHub 账号

1. **注册 GitHub**
   - 访问：https://github.com
   - 点击 "Sign up"
   - 填写邮箱、密码、用户名
   - 完成验证

### 步骤 2：创建仓库

1. **登录 GitHub 后**
   - 点击右上角的 "+"
   - 选择 "New repository"

2. **填写仓库信息**
   - Repository name（仓库名）：`cabin_game`
   - 选择 "Public"（公开）
   - 点击 "Create repository"

### 步骤 3：上传代码

1. **在命令提示符中**（在游戏文件夹）
   ```bash
   git init
   git add .
   git commit -m "初始提交"
   git branch -M main
   git remote add origin https://github.com/你的用户名/cabin_game.git
   git push -u origin main
   ```

### 步骤 4：配置自动部署

我来帮你创建一个自动部署配置文件。

**方法一：简单配置（推荐）**

1. **修改 vite.config.ts**
   我会帮你修改这个文件，添加正确的 base 路径

2. **创建 GitHub Actions 配置**
   我会创建一个配置文件，让 GitHub 自动构建和部署

3. **推送到 GitHub**
   ```bash
   git add .
   git commit -m "配置 GitHub Pages 部署"
   git push
   ```

4. **启用 GitHub Pages**
   - 在 GitHub 仓库页面，点击 "Settings"
   - 左侧找到 "Pages"
   - Source 选择 "GitHub Actions"
   - 等待几分钟

5. **访问你的游戏**
   - 网址会是：`https://你的用户名.github.io/cabin_game/`
   - 分享这个链接，任何人都能玩！

### 注意事项

**⚠️ 重要：网页版不支持联机功能**

网页版只能玩单机模式（和 AI 对战），因为：
- 联机需要一个持续运行的服务器
- GitHub Pages 只能托管静态网页，不能运行服务器

如果要联机，还是需要按照"第二部分"的方法在局域网玩。

---

## 🎯 快速参考

### 单人玩（最简单）
```bash
npm install    # 第一次需要运行
npm run dev    # 启动游戏
```
然后打开浏览器访问 `http://localhost:5173`

### 局域网联机
**房主：**
```bash
npm run server    # 终端 1：启动服务器
npm run dev       # 终端 2：启动游戏
```

**朋友：**
```bash
npm run dev       # 启动游戏
```

### 发布到网页
```bash
npm run build     # 构建项目
git add .
git commit -m "更新"
git push          # 推送到 GitHub
```

---

## 🆘 遇到问题？

### 常见错误

**错误 1: 'npm' 不是内部或外部命令**
- 说明：没有安装 Node.js 或没有添加到环境变量
- 解决：重新安装 Node.js，安装时勾选 "Add to PATH"

**错误 2: 端口 5173 已被占用**
- 说明：已经有一个游戏在运行
- 解决：关闭其他运行中的游戏，或者按 `Ctrl + C` 停止之前的进程

**错误 3: Cannot find module**
- 说明：依赖没有安装完全
- 解决：删除 `node_modules` 文件夹，重新运行 `npm install`

**错误 4: 游戏画面是黑屏**
- 说明：浏览器兼容性问题
- 解决：使用 Chrome 或 Edge 浏览器

---

## 💡 小贴士

1. **推荐使用 Chrome 浏览器** - 游戏体验最好
2. **服务器电脑不要是笔记本睡眠状态** - 会断开连接
3. **定期保存代码** - 使用 Git 提交更改
4. **修改游戏后要重启** - 按 `Ctrl + C` 停止，再运行 `npm run dev`

---

## 📞 获取帮助

如果还有问题：
1. 查看项目的 Issues 页面
2. 在 GitHub 上提交新 Issue
3. 把错误信息截图，描述你做了什么操作

祝你玩得开心！⚔️
